{
    "summary": "This code handles click events and sends messages to the background script, managing storage messages by updating toggle button state and potentially adding domains to the whitelist. It checks if the current hostname is in the whitelist and displays an error if not.",
    "details": [
        {
            "comment": "This code defines a background script that handles messages between the browser's background and popup, allowing for communication. It also initializes event listeners for various elements on the page, triggering corresponding actions when clicked or interacted with. The script enables functions like sending messages, receiving messages, and handling user interactions within the popup.",
            "location": "\"/media/root/Prima/works/generated_docs/lazero_doc/src/bootstrap/keller/src/ced/data/popup/popup.js\":0-28",
            "content": "var background = (function () {\n  var tmp = {};\n  chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n    for (var id in tmp) {\n      if (tmp[id] && (typeof tmp[id] === \"function\")) {\n        if (request.path == 'background-to-popup') {\n          if (request.method === id) tmp[id](request.data);\n        }\n      }\n    }\n  });\n  /*  */\n  return {\n    \"receive\": function (id, callback) {tmp[id] = callback},\n    \"send\": function (id, data) {chrome.runtime.sendMessage({\"path\": 'popup-to-background', \"method\": id, \"data\": data})}\n  }\n})();\nvar load = function () {\n  var test = document.querySelector(\".test\");\n  var reload = document.querySelector(\".reload\");\n  var toggle = document.querySelector(\".toggle\");\n  var support = document.querySelector(\".support\");\n  var options = document.querySelector(\".options\");\n  var explore = document.getElementById(\"explore\");\n  var donation = document.querySelector(\".donation\");\n  var whitelist = document.querySelector(\".whitelist\");\n  /*  */\n  test.addEventListener(\"click\", function () {background.send(\"test\")});"
        },
        {
            "comment": "This code initializes event listeners for click actions on various elements and sends corresponding messages to the background script. It also checks if the user agent is Edge and hides an element if it is. When a \"storage\" message is received, it updates the state of the toggle button and removes the \"added\" attribute from the whitelist element. If the received data contains a whitelist, it checks if the current tab's URL starts with \"http\" to potentially add the domain to the whitelist.",
            "location": "\"/media/root/Prima/works/generated_docs/lazero_doc/src/bootstrap/keller/src/ced/data/popup/popup.js\":29-51",
            "content": "  reload.addEventListener(\"click\", function () {background.send(\"reload\")});\n  toggle.addEventListener(\"click\", function () {background.send(\"toggle\")});\n  support.addEventListener(\"click\", function () {background.send(\"support\")});\n  options.addEventListener(\"click\", function () {background.send(\"options\")});\n  donation.addEventListener(\"click\", function () {background.send(\"donation\")});\n  whitelist.addEventListener(\"click\", function () {background.send(\"whitelist\")});\n  /*  */\n  background.send(\"load\");\n  window.removeEventListener(\"load\", load, false);\n  if (navigator.userAgent.indexOf(\"Edg\") !== -1) explore.style.display = \"none\";\n};\nbackground.receive(\"storage\", function (e) {\n  var toggle = document.querySelector(\".toggle\");\n  var whitelist = document.querySelector(\".whitelist\");\n  /*  */\n  whitelist.removeAttribute(\"added\");\n  toggle.setAttribute(\"state\", e.state);\n  /*  */\n  if (e.whitelist) {\n    if (e.tab && e.tab.url) {\n      if (e.tab.url.indexOf(\"http\") === 0) {\n        var tmp = new URL(e.tab.url);"
        },
        {
            "comment": "This code checks if the current hostname is in the whitelist and sets a corresponding attribute. If not, it displays an error for 150ms before removing it. The load event listener triggers a function to execute when the window has finished loading.",
            "location": "\"/media/root/Prima/works/generated_docs/lazero_doc/src/bootstrap/keller/src/ced/data/popup/popup.js\":52-68",
            "content": "        var hostname = tmp.hostname.replace(\"www.\", '');\n        if (e.whitelist.indexOf(hostname) !== -1) {\n          whitelist.setAttribute(\"added\", true);\n        }\n        /*  */\n        return;\n      }\n    }\n  }\n  /*  */\n  whitelist.setAttribute(\"error\", true);\n  window.setTimeout(function () {\n    whitelist.removeAttribute(\"error\");\n  }, 150);\n});\nwindow.addEventListener(\"load\", load, false);"
        }
    ]
}